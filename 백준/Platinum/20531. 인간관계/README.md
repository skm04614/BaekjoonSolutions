# [Platinum V] 인간관계 - 20531 

[문제 링크](https://www.acmicpc.net/problem/20531) 

### 성능 요약

메모리: 201316 KB, 시간: 124 ms

### 분류

조합론, 자료 구조, 분리 집합, 다이나믹 프로그래밍, 수학

### 제출 일자

2024년 5월 16일 21:28:17

### 문제 설명

<p>S인터넷고등학교에는 $N$명의 학생이 있다. 이들 사이에 몇몇은 서로 친구 관계를 맺고 있다. 친구 관계는 다음 세 가지 조건을 만족한다.</p>

<ol>
	<li>모든 학생은 자기 자신의 친구이다.</li>
	<li>학생 $x$가 학생 $y$의 친구이면, 학생 $y$도 학생 $x$의 친구이다.</li>
	<li>학생 $x$와 학생 $y$가 친구이고, 학생 $y$와 학생 $z$가 친구이면, 학생 $x$와 학생 $z$도 친구이다.</li>
</ol>

<p>S인터넷고등학교의 김준원 선생님은 학생들의 친구 관계에 대해 알고 싶다. 다행히, 일부 학생 간의 친구 관계에 대한 정보는 이미 주어져있다. 김준원 선생님을 위해 전체 학생들의 친구 관계로 가능한 경우의 수를 구해보자.</p>

<p>두 친구 관계가 다름은 하나의 친구 관계에서는 친구지만, 다른 친구 관계에서는 친구가 아닌 두 학생이 존재함을 의미한다.</p>

<p>입력이 특수한 방식으로 주어지니, 입력과 출력 부분의 설명을 자세히 읽는 것을 권장한다.</p>

### 입력 

 <p>학생의 수 $N$과 정수 $M$이 사이에 공백을 두고 주어진다.</p>

<p>이후 $M$개의 줄 중 $i (1 \le i \le M)$번째 줄에는 두 정수 $x_i, y_i $가 주어진다.</p>

### 출력 

 <p>$M$개의 줄에 걸쳐 총 $M$개의 문제에 대한 답을 출력한다.</p>

<p>$i(1 \le i \le M)$번째 줄에는 $(x_1, y_1), (x_2, y_2), \cdots, (x_i, y_i)$의 (총 $i$개의 쌍의) 학생이 친구 관계에 있음을 알 때, 전체 친구 관계로 가능한 경우의 수를 $10^9+7$로 나눈 나머지를 출력한다.</p>

